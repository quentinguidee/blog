(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),i=n.n(s),c=n(29),a=n.n(c),o=n(2),u=n(3),l=n(5),d=n(4),j=(n(45),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"author",children:["Ecrit par"," ",Object(r.jsx)("a",{className:"author__link",href:this.props.link,children:this.props.author}),", le ",this.props.date,"."]})}}]),n}(s.Component)),p=(n(46),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("footer",{className:"footer",children:Object(r.jsxs)("div",{className:"footer__copyright",children:["\xa92021"," ",Object(r.jsx)("a",{className:"footer__link",href:this.props.link,children:this.props.author}),". All rights reserved."]})})}}]),n}(s.Component)),A=n(14),b=(n(47),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(A.b,{to:"/",className:"header__logo",children:"Quentin Guid\xe9e"}),this.props.children]})}}]),n}(s.Component)),m=(n(52),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"article",children:[Object(r.jsx)(b,{children:"Cr\xe9ation d'un quadcopter"}),this.props.children,Object(r.jsx)(j,{author:this.props.author,link:"https://github.com/quentinguidee",date:this.props.date}),Object(r.jsx)(p,{author:this.props.author,link:"https://github.com/quentinguidee"})]})}}]),n}(s.Component)),h=(n(53),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e;return this.props.noCredits||(e=Object(r.jsxs)("div",{className:"background__credits",children:["Image by ",this.props.from," from"," ",Object(r.jsx)("a",{style:{color:"inherit"},href:this.props.fromURL,target:"_blank",rel:"noreferrer",children:"Unsplash"}),"."]})),Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)("div",{className:"background",style:{backgroundImage:"url(".concat(this.props.image,")")}}),e]})}}]),n}(s.Component)),O=(n(54),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("span",{className:"definition",children:this.props.children})}}]),n}(s.Component)),x=(n(55),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"image-container",children:Object(r.jsx)("img",{className:"image",style:{maxHeight:this.props.height?this.props.height+"px":"inherit"},alt:this.props.alt,src:this.props.src})})}}]),n}(s.Component)),f=(n(56),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("h3",{className:"subtitle",children:this.props.text.toUpperCase()})}}]),n}(s.Component)),g=(n(57),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"text",children:this.props.children})}}]),n}(s.Component)),v=(n(58),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"title",children:this.props.title.toUpperCase()}),Object(r.jsx)("h2",{className:"title2",children:this.props.subtitle.toUpperCase()})]})}}]),n}(s.Component)),C=n.p+"static/media/drawing.1a71073a.png",E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(m,{author:"Quentin Guid\xe9e",date:"03/01/2021",children:[Object(r.jsx)(v,{title:"\xe9pisode 1",subtitle:"Conception"}),Object(r.jsx)(h,{image:"https://unsplash.com/photos/4UGmm3WRUoQ/download?force=true",from:"sigmund",fromURL:"https://unsplash.com/@sigmund"}),Object(r.jsx)(f,{text:"L'id\xe9e"}),Object(r.jsxs)(g,{children:["Je passe mes journ\xe9es \xe0 d\xe9velopper des trucs, mais jusqu'ici je ne m\u2019\xe9tais jamais int\xe9ress\xe9 au"," ",Object(r.jsx)(O,{children:"hardware"}),". C\u2019est le moment de se lancer ! Souci : aucune id\xe9e de projet, comme d\u2019hab\u2026 Allumer une LED ? Ouais on va pas faire avancer le monde avec une LED\u2026"]}),Object(r.jsx)(g,{children:"Puis l\xe0, lumi\xe8re ! Go faire un drone. C\u2019est trop compliqu\xe9 ? Peut \xeatre pas tant que \xe7a\u2026"}),Object(r.jsx)(g,{children:"C\u2019est suite \xe0 cette r\xe9flexion lumineuse que je me suis lanc\xe9 dans la cr\xe9ation d\u2019un drone."}),Object(r.jsx)(f,{text:"Le drone : objectif"}),Object(r.jsxs)(g,{children:["Le drone que l'on va construire se d\xe9marquera de la concurrence ",Object(r.jsx)(O,{children:"open source"})," avec ceci :"]}),Object(r.jsx)(g,{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Il sera extr\xeamement stable, m\xeame face au vent ;"}),Object(r.jsx)("li",{children:"Il sera dot\xe9 d'une s\xe9rie d'actions tr\xe8s pratiques (aterrissage et d\xe9collage 100% automatique, atterrissage s\xe9curis\xe9 en cas de d\xe9connexion de l'\xe9metteur\u2026) ;"}),Object(r.jsx)("li",{children:'Il aura une structure "fait maison".'})]})}),Object(r.jsx)(f,{text:"A quoi ressemblera-t-il ?"}),Object(r.jsxs)(g,{children:["Nous allons construire un"," ",Object(r.jsx)(O,{children:"Quadcopter"}),". Le premier prototype visera quelque chose de ce genre :"]}),Object(r.jsx)(x,{height:"320",alt:"Image du drone",src:C}),Object(r.jsx)(g,{children:"On a, entre autre, une batterie amovible au dessus, une cam\xe9ra \xe0 l'avant (qui sera r\xe9alis\xe9e tr\xe8s tard dans le projet), une LED de statut au dessus avec un bouton on/off, des LEDs sous les moteurs\u2026"}),Object(r.jsx)(g,{children:"Bien s\xfbr, ce croquis subira de tr\xe8s nombreuses modifications au cours du projet. Son but est vraiment d'avoir une premi\xe8re id\xe9e pour ne pas trop se lancer \xe0 l'aveugle."}),Object(r.jsx)(f,{text:"Comment va-t-on s'y prendre ?"}),Object(r.jsx)(g,{children:"Pour ce projet, il faudra s'y prendre comme il faut. En effet, tout semble tr\xe8s complexe \xe0 priori. Mais en d\xe9composant le drone composant par composant, tout sera beaucoup plus simple."}),Object(r.jsx)(g,{children:"Le drone sera d'abord construit sur une structure extr\xeamement simplifi\xe9e destin\xe9e \xe0 un premier prototypage. Le projet se d\xe9roulera comme suit :"}),Object(r.jsx)(g,{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"D'abord, on s'occupera de tous les \xe9l\xe9ments les plus simples, comme les LEDs. Commencer par \xe7a permet de d\xe9j\xe0 poser la structure du code et d'avoir une approche simplifi\xe9e de l'\xe9lectronique."}),Object(r.jsx)("li",{children:"Ensuite, on s'occupera de toute la partie en vol."}),Object(r.jsx)("li",{children:"Une fois ceci fait, le prototype est donc termin\xe9. On s'occupera alors de cr\xe9er le produit fini, c'est \xe0 dire la structure ext\xe9rieure, simplifier certaines choses, am\xe9liorer des parties un peu brouillon\u2026"}),Object(r.jsx)("li",{children:"Pour finir, on sera enfin apte \xe0 y ajouter tout ce qu'on souhaite ! Des pieds ? Aller chercher de la nourriture \xe0 la cuisine ? Ou m\xeame faire le caf\xe9 !"})]})}),Object(r.jsx)(f,{text:"Episode suivant\u2026"}),Object(r.jsx)(g,{children:"Dans l'\xe9pisode 2, on parlera un peu du hardware ^^"})]})}}]),n}(s.Component),k=n(27),q=(n(65),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"code",children:Object(r.jsx)(k.a,{text:this.props.code,language:this.props.language,showLineNumbers:!1,theme:k.b,wrapLines:!0})})}}]),n}(s.Component)),I=n.p+"static/media/arduino-uno.1bfb4ceb.png",M=n.p+"static/media/arduino-mega.130c9c7e.png",R=n.p+"static/media/arduino-cover.b41420c8.png",S=n.p+"static/media/arduino-ide.1421a8a2.png",P=n.p+"static/media/vscode.ae0b1494.png",z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(m,{author:"Quentin Guid\xe9e",date:"13/01/2021",children:[Object(r.jsx)(v,{title:"\xe9pisode 2",subtitle:"L'arduino"}),Object(r.jsx)(h,{image:R,noCredits:!0}),Object(r.jsx)(f,{text:"Intro"}),Object(r.jsxs)(g,{children:["Dans cet \xe9pisode, on va commencer en douceur en d\xe9couvrant le composant essentiel de notre drone, son cerveau : l'",Object(r.jsx)(O,{children:"Arduino"}),". On posera aussi les bases du code. Et comme je pr\xe9f\xe8re apprendre avec la pratique, on ne va pas du tout rentrer dans la th\xe9orie de l'Arduino aujourd'hui. On va simplement voir ce que c'est (\xe7a risque de faire chier ceux qui connaissent d\xe9j\xe0) et on va voir ce qu'on va utiliser sur le drone et pourquoi."]}),Object(r.jsx)(f,{text:"C'est quoi ?"}),Object(r.jsx)(g,{children:"L'Arduino est une carte programmable qui se veut tr\xe8s utile dans des projets d'\xe9lectronique en phase de prototypage. C'est une sorte de petit ordinateur qui va lancer un programme (que l'on va \xe9crire) pour communiquer avec les composants \xe9lectronique qu'on lui connecte."}),Object(r.jsx)(g,{children:"Les cartes Arduino sont d\xe9clin\xe9es en des dizaines de mod\xe8les diff\xe9rents, chacune ayant ses avantages et inconv\xe9nients. Le mod\xe8le le plus connu est s\xfbrement l'Arduino Uno, et elle vous dira peut \xeatre quelque chose tant elle est r\xe9pandue :"}),Object(r.jsx)(x,{height:"400",alt:"Photo Arduino Uno",src:I}),Object(r.jsx)(g,{children:"Elle peut faire peur \xe0 premi\xe8re vue, mais en r\xe9alit\xe9 elle est extr\xeamement simple \xe0 prendre en main et intuitive."}),Object(r.jsx)(f,{text:"Et pour le drone ?"}),Object(r.jsx)(g,{children:"Dans le cas de notre drone, nous devrons connecter un nombre assez cons\xe9quent de composants \xe0 l'Arduino. Malheureusement, une Arduino Uno ne nous convient pas..."}),Object(r.jsx)(g,{children:"En effet, nous allons avoir besoin d'un nombre assez cons\xe9quent de pins. Les pins sont les petits trous carr\xe9s r\xe9partis autour de l'Arduino qui permettent de relier les composants. L'Arduino Uno n'en compte que 20 ! J'ai donc d\xe9cid\xe9 de partir sur une Arduino Mega \xe0 la place de la Uno, qui offre 70 pins !"}),Object(r.jsx)(x,{height:"400",alt:"Photo Arduino Mega",src:M}),Object(r.jsx)(g,{children:"Rassurez-vous, elle est presque identique \xe0 la Uno. En plus de l'avantage cit\xe9, la Mega dispose d'une m\xe9moire flash 8x plus \xe9lev\xe9e (soit 256 KB)."}),Object(r.jsx)(g,{children:"En revanche, elle est beaucoup plus grande et lourde ! Mais je consid\xe8re actuellement que ce probl\xe8me n'est pas tr\xe8s grave vu que le drone que l'on va construire sera assez grand (40x40cm)."}),Object(r.jsx)(f,{text:"Les outils"}),Object(r.jsx)(g,{children:"Bon. C'est une carte programmable, donc il va falloir pr\xe9parer le terrain pour le code du drone."}),Object(r.jsx)(g,{children:"On va s'y prendre correctement. Il nous faut un IDE. Il faut se rappeler que le code du drone fera plusieurs milliers de lignes de code, et coder dans l'IDE Arduino est juste... horrible... Observez par vous-m\xeame :"}),Object(r.jsx)(x,{height:"500",alt:"Capture d'\xe9cran Arduino IDE",src:S}),Object(r.jsx)(g,{children:"Je me vois mal coder l\xe0 dedans plusieurs milliers de lignes sans devenir fou. On va donc partir sur notre IDE favori : VSCode !"}),Object(r.jsx)(x,{height:"500",alt:"VSCode",src:P}),Object(r.jsxs)(g,{children:["On aura alors besoin d'installer l'extension"," ",Object(r.jsx)("a",{href:"https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.vscode-arduino",children:"vscode-arduino"}),". Elle nous permettra essentiellement d'avoir une autocompl\xe9tion fiable et de ne pas se voir souligner toutes les m\xe9thodes en rouge (vous voyez de quoi je parle). Elle permet aussi une multitude d'autres choses dont nous ne nous servirons pas."]}),Object(r.jsx)(f,{text:"Le code de base"}),Object(r.jsx)(g,{children:"Une Arduino se code en C++. La structure de base d'un programme est la suivante :"}),Object(r.jsx)(q,{code:"void setup() {\n    // Code lanc\xe9 une fois au d\xe9marrage de l'Arduino\n}\n\nvoid loop() {\n  // Code ex\xe9cut\xe9 en boucle\n}",language:"cpp"}),Object(r.jsx)(g,{children:"Elle est simplement compos\xe9e de deux fonctions tr\xe8s basiques :"}),Object(r.jsx)(g,{children:Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["La fonction ",Object(r.jsx)(O,{children:"setup()"})," : elle ne s'ex\xe9cutera qu'une fois : au lancement de l'Arduino."]}),Object(r.jsxs)("li",{children:["La fonction ",Object(r.jsx)(O,{children:"loop()"})," : comme son nom l'indique, elle va s'ex\xe9cuter en boucle jusqu'\xe0 ce que vous \xe9teignez l'Arduino."]})]})}),Object(r.jsx)(f,{text:"Le Makefile"}),Object(r.jsx)(g,{children:"Mais maintenant, comment est-ce qu'on envoie ce code sur l'Arduino Mega ?"}),Object(r.jsxs)(g,{children:["On va se servir d'un outil merveilleux appel\xe9"," ",Object(r.jsx)("a",{href:"https://github.com/arduino/arduino-cli",children:"arduino-cli"}),". C'est un outil qui permet, entre autre, de compiler le code et de l'uploader sur l'Arduino depuis le terminal. Les commandes que l'on va utiliser sont les suivantes :"]}),Object(r.jsx)(g,{children:Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:[Object(r.jsx)(O,{children:"arduino-cli -b BOARD compile"})," ",': ici, BOARD est \xe0 remplacer par la r\xe9f\xe9rence de la carte, c\'est-\xe0-dire "arduino:avr:mega:cpu=atmega2560" pour notre Arduino Mega. "arduino-cli" est le nom de l\'outil, le "-b" et ce qui suit permet \xe0 arduino-cli de savoir de quelle carte il s\'agit, et le "compile" lui permet de savoir qu\'on veut compiler notre code.']}),Object(r.jsxs)("li",{children:[Object(r.jsx)(O,{children:"arduino-cli -b BOARD -p PORT upload"})," ",": cette commande permet d'uploader le code compil\xe9 sur l'Arduino. Ici, \"PORT\" est \xe0 remplacer par le port USB de l'ordinateur sur lequel l'Arduino est branch\xe9. Il peut \xeatre facilement d\xe9termin\xe9 depuis l'extension Arduino sur VSCode."]})]})}),Object(r.jsxs)(g,{children:["Mais... Ces commandes sont chiantes \xe0 rentrer \xe0 chaque fois omg. On va faire un Makefile. Pour simplifier, \xe7a nous permettra notamment de faire des raccourcis vers ces commandes. Taper ",Object(r.jsx)(O,{children:"make"})," dans le terminal compilera le code, et taper"," ",Object(r.jsx)(O,{children:"make upload"})," l'enverra sur l'Arduino."]}),Object(r.jsx)(q,{code:"BOARD=arduino:avr:mega:cpu=atmega2560\nARDUINO_CLI=arduino-cli\nPORT=/dev/ttyACM0\n\nall:\n  ${ARDUINO_CLI} -b ${BOARD} compile\n\nupload:\n  ${ARDUINO_CLI} -b ${BOARD} -p ${PORT} upload",language:"makefile"}),Object(r.jsx)(g,{children:"On a l'air bon maintenant, non ? On peut essayer de compiler et d'upload, tout se passe merveilleusement bien !"}),Object(r.jsx)(f,{text:"Conclusion"}),Object(r.jsx)(g,{children:"On a bien avanc\xe9 aujourd'hui. On a donc vu l'Arduino qu'on utilisera (on commence \xe0 le savoir) et les fondations du code."}),Object(r.jsx)(g,{children:"Dans l'\xe9pisode suivant, nous mettrons en place les premiers composants : LEDs, LED RGB, bouton on/off..."})]})}}]),n}(s.Component),y=n.p+"static/media/button.56302134.png",L=n.p+"static/media/button-circuit-photo.0458c340.png",T=n.p+"static/media/led-photo.6e16661e.png",U=n.p+"static/media/led-rgb-photo.63ab5b19.png",B=n.p+"static/media/leds-moteurs-photo.93e346f2.png",J=n.p+"static/media/led-rgb-photo-off.c93d2869.png",D=n.p+"static/media/led-rgb-photo-on.f406ca78.png",Q=n.p+"static/media/piezo.b7ae784d.png",X=n.p+"static/media/piezo-circuit.720ea765.png",Z=n.p+"static/media/piezo.b0e545b0.mp3",F=(n(66),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("audio",{className:"audio",controls:!0,children:[Object(r.jsx)("source",{src:this.props.src,type:"audio/mp3"}),"[Your browser does not support the audio element]"]})}}]),n}(s.Component)),N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(m,{author:"Quentin Guid\xe9e",date:"14/01/2021",children:[Object(r.jsx)(v,{title:"\xe9pisode 3",subtitle:"LEDS et on/off"}),Object(r.jsx)(h,{image:X,noCredits:!0}),Object(r.jsx)(f,{text:"Intro"}),Object(r.jsx)(g,{children:"Dans cet \xe9pisode, on va commencer \xe0 cr\xe9er le drone. On va commencer par des composants de base pour faire un bouton on/off, des LEDs sous chaque moteur et une LED de statut. C'est parti !"}),Object(r.jsx)(f,{text:"Le bouton on/off"}),Object(r.jsx)(g,{children:"Commen\xe7ons par le bouton pour allumer et \xe9teindre le drone."}),Object(r.jsx)(x,{height:"400",src:y}),Object(r.jsx)(g,{children:"En fait, un bouton, c'est simplement quelque chose qui se place entre deux fils. Si on appuie, le courant passe, et si on n'appuie pas, le courant ne passe pas. Autrement dit, quand on appuie, les deux fils de part et d'autre du bouton se touchent. Sur la photo, les deux fils sont les fils jaunes."}),Object(r.jsx)(x,{height:"400",src:L}),Object(r.jsx)(g,{children:"En fait, le premier fil (le tout petit) sort tout droit du 5 volts de l'Arduino. Si on appuie sur le bouton, le courant passera dans le deuxi\xe8me fil jaune qui retourne directement vers l'Arduino \xe0 la PIN 52. Quand la PIN 52 re\xe7oit le 5V en retour, elle sait que le bouton a \xe9t\xe9 actionn\xe9."}),Object(r.jsx)(g,{children:"Maintenant, il faut coder. Au d\xe9marrage de l'Arduino, elle doit savoir qu'elle doit attendre un signal entrant de la PIN 52. On fera comme suit dans la fonction setup de l'Arduino :"}),Object(r.jsx)(q,{code:"pinMode(52, INPUT);",language:"cpp"}),Object(r.jsx)(g,{children:"Et pour lire un signal venant de cette PIN, il faut utiliser ceci :"}),Object(r.jsx)(q,{code:"digitalRead(pin); // Retourne un int qui vaut 1 ou 0",language:"cpp"}),Object(r.jsx)(g,{children:"Avec ceci, il suffit maintenant d'inverser une variable bool\xe9enne (1/0) \xe0 chaque clic sur le bouton."}),Object(r.jsx)(g,{children:"Mais bon. C'est bien beau mais on ne sait pas voir si \xe7a marche... Pour cela, on va commencer les LEDs qui seront plac\xe9es sous les moteurs."}),Object(r.jsx)(f,{text:"Les LEDs sous les moteurs"}),Object(r.jsx)(g,{children:"Bon. Le comportement n'est pas d\xe9finitif, mais commen\xe7ons avec \xe7a : quand on allume le drone, les LEDs des moteurs vont s'allumer (et inversement)."}),Object(r.jsx)(g,{children:"Une LED, c'est assez simple. C'est une diode qui s'allume lorsqu'elle re\xe7oit une diff\xe9rence de potentiel assez \xe9lev\xe9e entre ses deux pattes (tension de seuil)."}),Object(r.jsx)(x,{height:"400",src:T}),Object(r.jsx)(g,{children:"Attention, elle a un sens ! Ne pas le respecter rend la LED inutile ou peut la faire cramer !"}),Object(r.jsx)(g,{children:"Bon. Pour le drone, on va donc connecter 4 pins de l'Arduino (22 \xe0 25) aux 4 LEDs. J'aurais pu ne faire sortir qu'une seule PIN vers les 4 LEDs directement, mais les LEDs servent justement \xe0 indiquer le statut de chacun des moteurs s\xe9par\xe9ment."}),Object(r.jsx)(g,{children:"Faisons le petit circuit, et assurons-nous que cliquer sur le bouton allume bien les 4 LEDs jaunes !"}),Object(r.jsx)(x,{height:"400",src:B}),Object(r.jsx)(g,{children:"Spoiler \xe7a marche."}),Object(r.jsx)(g,{children:"Le code reste tr\xe8s simple. Pour dire \xe0 l'Arduino qu'une PIN sert \xe0 sortir un courant et non \xe0 le faire entrer comme avec le bouton, on utilise :"}),Object(r.jsx)(q,{code:"pinMode(22, OUTPUT);",language:"cpp"}),Object(r.jsx)(g,{children:"Et pour allumer/\xe9teindre la LED :"}),Object(r.jsx)(q,{code:"digitalWrite(22, HIGH); // Allumer\ndigitalWrite(22, LOW); // Eteindre",language:"cpp"}),Object(r.jsx)(f,{text:"LED de statut"}),Object(r.jsx)(g,{children:"Pour la LED de statut, nous utiliserons une LED RGB. Chaque couleur qu'elle indiquera correspondra \xe0 un statut (allum\xe9, \xe9teint, erreur...). Dans un premier temps, rouge pour \xe9teint, orange pour \"en cours d'allumage\" et vert pour allum\xe9."}),Object(r.jsx)(g,{children:'Une LED RGB, c\'est comme 3 LEDs (une rouge, une verte et une bleue) combin\xe9es en une. Chacune des 3 pattes correspond \xe0 une couleur (rouge, vert, bleu) (et la 4e sert \xe0 donner le "0V" pour la diff\xe9rence de potentiel).'}),Object(r.jsx)(x,{height:"400",src:U}),Object(r.jsx)(g,{children:"Le code fonctionne de mani\xe8re similaire \xe0 celui pour une LED, sauf qu'on a 3 sorties. Nuance aussi assez importante : pour faire varier les couleurs, \xe0 la place de dire \"allum\xe9/\xe9teint\" comme pour une LED normale, on peut lui appliquer \xe0 chaque patte une diff\xe9rence de potentiel plus ou moins importante. C'est ce qui fera varier la couleur."}),Object(r.jsx)(g,{children:"Donc, \xe0 la place du digitalWrite, on utilisera l'analogWrite (o\xf9 red/green/blue seront des chiffres entre 0 et 255) :"}),Object(r.jsx)(q,{code:"analogWrite(redPin, red);\nanalogWrite(greenPin, green);\nanalogWrite(bluePin, blue);",language:"cpp"}),Object(r.jsx)(g,{children:"Plus qu'\xe0 coder \xe7a et \xe0 tester !"}),Object(r.jsx)(x,{height:"400",src:J}),Object(r.jsx)(x,{height:"400",src:D}),Object(r.jsx)(g,{children:"Merveilleux !"}),Object(r.jsx)(f,{text:"Bonus : le Piezo"}),Object(r.jsx)(g,{children:'On va ajouter un petit "sonar" au drone, de mani\xe8re \xe0 jouer un petit son aga\xe7ant \xe0 son allumage :)'}),Object(r.jsx)(x,{height:"400",src:Q}),Object(r.jsx)(g,{children:"Pour l'allumer, il faut lui communiquer une fr\xe9quence. C'est sa fr\xe9quence qui va d\xe9terminer la note de musique qu'on va lui faire jouer. Ce composant s'utilise comme suit :"}),Object(r.jsx)(q,{code:"tone(53, frequency); // Fait sonner \xe0 une fr\xe9quence pr\xe9cise\nnoTone(53); // Arr\xeate de sonner",language:"cpp"}),Object(r.jsx)(g,{children:"On entendra \xe7a \xe0 chaque allumage \xe0 partir de maintenant\u2026"}),Object(r.jsx)(F,{src:Z}),Object(r.jsx)(x,{height:"400",src:X}),Object(r.jsx)(f,{text:"Conclusion"}),Object(r.jsx)(g,{children:"Bon. On a bien avanc\xe9 \xe0 nouveau. On a donc fait un bouton on/off, les 4 LEDs des moteurs, et une LED de statut globale."}),Object(r.jsx)(g,{children:"Prochaine fois, on va enfin voir quelque chose de plus complexe : un capteur essentiel \xe0 la stabilisation du drone !"})]})}}]),n}(s.Component),V=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"error404",children:["404",Object(r.jsx)(A.b,{className:"error404__link",to:"/",children:"Go home"})]})}}]),n}(s.Component),W=n(7),w=(n(67),n(68),n(69),n(70),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"cards",children:this.props.children})}}]),n}(s.Component)),G=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(A.b,{className:"card",to:this.props.to,children:[Object(r.jsx)("span",{className:"card__title",children:this.props.title.toUpperCase()}),Object(r.jsx)("span",{className:"card__subtitle",children:this.props.subtitle.toUpperCase()}),Object(r.jsx)("span",{className:"card__date",children:this.props.date})]})}}]),n}(s.Component),H=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"home",children:[Object(r.jsx)(b,{}),Object(r.jsx)(v,{title:"Articles",subtitle:"Cr\xe9ation d'un quadcopter"}),Object(r.jsxs)(w,{children:[Object(r.jsx)(G,{to:"/articles/create-drone-1",title:"Episode 1",subtitle:"Conception",date:"03/01/2021"}),Object(r.jsx)(G,{to:"/articles/create-drone-2",title:"Episode 2",subtitle:"L'Arduino",date:"13/01/2021"}),Object(r.jsx)(G,{to:"/articles/create-drone-3",title:"Episode 3",subtitle:"LEDS et on/off",date:"14/01/2021"}),Object(r.jsx)(G,{to:"/articles/create-drone-4",title:"Episode 4",subtitle:"Acc\xe9l\xe9ro et gyro",date:"18/01/2021"})]})]})}}]),n}(s.Component),K=n.p+"static/media/mpu.813a9f42.png",Y=n.p+"static/media/drone-gravity-turn.1e8f099d.png",_=(n(71),n(6)),$=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(m,{author:"Quentin Guid\xe9e",date:"18/01/2021",children:[Object(r.jsx)(v,{title:"\xe9pisode 4",subtitle:"Acc\xe9l\xe9rom\xe8tre et gyroscope"}),Object(r.jsx)(h,{image:K,noCredits:!0}),Object(r.jsx)(f,{text:"Intro"}),Object(r.jsx)(g,{children:"Dans cet \xe9pisode, on va enfin s'atteler \xe0 une des parties les plus int\xe9ressantes des drones : leur stabilisation. Mais vous concevez qu'on est face \xe0 un probl\xe8me majeur ! Si on bouge le drone, nous on sait qu'on l'a boug\xe9. Lui pas..."}),Object(r.jsx)(g,{children:"On va donc ajouter les premiers capteurs \xe0 notre drone : un acc\xe9l\xe9rom\xe8tre et un gyroscope."}),Object(r.jsx)(g,{children:Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["Acc\xe9l\xe9rom\xe8tre : c'est un capteur qui nous permet de connaitre l'acc\xe9l\xe9ration du drone en tout temps (exprim\xe9e en ",Object(r.jsx)(_.InlineMath,{children:"g"}),") (rappel:"," ",Object(r.jsx)(_.InlineMath,{children:"1g=9,81m/s^2"}),");"]}),Object(r.jsxs)("li",{children:["Gyroscope : c'est un capteur qui nous permet de connaitre la vitesse angulaire du drone en tout temps (exprim\xe9e en ",Object(r.jsx)(_.InlineMath,{children:"deg/s"}),")."]})]})}),Object(r.jsx)(f,{text:"Le MPU-9250"}),Object(r.jsx)(g,{children:"Pour notre drone, nous utiliserons un Groove MPU-9250. En plus de disposer d'un acc\xe9l\xe9rom\xe8tre et d'un gyroscope, il est aussi dot\xe9 d'un magn\xe9tom\xe8tre dont nous pourrions nous servir plus tard."}),Object(r.jsx)(x,{height:"400",src:K}),Object(r.jsx)(g,{children:"On peut le connecter assez simplement \xe0 l'Arduino gr\xe2ce au connecteur I2C."}),Object(r.jsxs)(g,{children:["J'ai d\xe9cid\xe9 d'installer la librairie"," ",Object(r.jsx)(O,{children:"MPU9250_asukiaaa"})," afin de communiquer avec ce composant depuis le code. Mais attention, la librairie ne va faire que lire les donn\xe9es brutes du capteur. Des maths resteront \xe0 faire !"]}),Object(r.jsx)(f,{text:"L'acc\xe9l\xe9rom\xe8tre"}),Object(r.jsx)(g,{children:"Dans un premier temps, on va essayer de calculer l'acc\xe9l\xe9ration du drone. On va donc utiliser l'acc\xe9l\xe9rom\xe8tre. R\xe9cup\xe9rons ses donn\xe9es brutes gr\xe2ce \xe0 la librairie :"}),Object(r.jsx)(q,{code:"float accX = sensor.accelX();\nfloat accY = sensor.accelY();\nfloat accZ = sensor.accelZ();",language:"cpp"}),Object(r.jsx)(g,{children:"Maintenant, si on lance le drone avec l'acc\xe9l\xe9rom\xe8tre bien \xe0 plat, et si on affiche les acc\xe9l\xe9rations dans la console, on va voir un r\xe9sultat relativement inattendu :"}),Object(r.jsx)(_.BlockMath,{children:"\\left(\\begin{array}{c}acc_x\\\\ acc_y\\\\ acc_z\\end{array}\\right) = \\left(\\begin{array}{c}0,02\\: g\\\\ 0,03\\: g\\\\ 1,02\\: g\\end{array}\\right)"}),Object(r.jsxs)(g,{children:["On voit directement un probl\xe8me. Le drone ne bouge pas, et pourtant on voit des imperfections dans les mesures. Par exemple, le ",Object(r.jsx)(_.InlineMath,{children:"0,02"})," devrait \xeatre un"," ",Object(r.jsx)(_.InlineMath,{children:"0"})," car il n'acc\xe9l\xe8re pas dans le sens des X."]}),Object(r.jsxs)(g,{children:["Remarque : le ",Object(r.jsx)(_.InlineMath,{children:"1"})," pour la composante Z est tout \xe0 fait normal. C'est la gravit\xe9."]}),Object(r.jsxs)(g,{children:["Il faudra donc calibrer le MPU-9250 \xe0"," ",Object(r.jsx)(_.InlineMath,{children:"(0,0,1)"})," au d\xe9marrage du drone ! C'est une \xe9tape tr\xe8s importante, sinon le drone volera difficilement droit !"]}),Object(r.jsx)(g,{children:"Personnellement, pour calibrer l'acc\xe9l\xe9rom\xe8tre, je prend 100 mesures espac\xe9es de 10 millisecondes au d\xe9marrage du drone. La m\xe9diane de ces mesures tri\xe9es d\xe9termine l'erreur \"moyenne\" du capteur."}),Object(r.jsxs)(g,{children:["Le processus de calibration prendra donc 1 seconde \xe0 chaque allumage du drone (car"," ",Object(r.jsx)(_.InlineMath,{children:"100\\cdot 10ms"}),"). On peut s\xfbrement diminuer le nombre d'\xe9chantillons pour diminuer ce temps, mais je pr\xe9f\xe8re avoir la mesure la plus fiable possible pour commencer, quitte \xe0 diminuer plus tard."]}),Object(r.jsx)(f,{text:"Le gyroscope"}),Object(r.jsx)(g,{children:"Avant toute chose, le gyroscope doit lui aussi subir une calibration. On utilisera exactement la m\xeame m\xe9thode que celle utilis\xe9e pour l'acc\xe9l\xe9rom\xe8tre."}),Object(r.jsxs)(g,{children:["Les donn\xe9es en ",Object(r.jsx)(_.InlineMath,{children:"deg/s"})," sont donc calibr\xe9es, mais on va aussi avoir besoin de l'angle brut du drone. L'angle n'est pas donn\xe9 par le gyroscope directement, mais on va pouvoir le calculer. Voici comment :"]}),Object(r.jsxs)(g,{children:["Devinons intuitivement d'abord. On va prendre par exemple la composante X de la rotation. Si le drone fait une rotation de ",Object(r.jsx)(_.InlineMath,{children:"5deg/s"})," pendant 2 secondes, il a une inclinaison finale de ",Object(r.jsx)(_.InlineMath,{children:"10 deg"}),", car"]}),Object(r.jsx)(_.BlockMath,{children:"2s\\cdot 5 deg/s = 10 deg"}),Object(r.jsxs)(g,{children:["Apr\xe8s \xe7a, s'il s'incline encore de"," ",Object(r.jsx)(_.InlineMath,{children:"3 deg/s"})," pendant 1 seconde, il va former un angle de ",Object(r.jsx)(_.InlineMath,{children:"13 deg"}),", car"]}),Object(r.jsx)(_.BlockMath,{children:"10deg + 1s\\cdot 3 deg/s = 13 deg"}),Object(r.jsx)(g,{children:"On finit par deviner que, pour calculer l'angle du drone, il faudra rafra\xeechir en boucle son angle avec quelque chose comme \xe7a :"}),Object(r.jsx)(_.BlockMath,{children:"\\alpha_{new} = \\alpha + \\dot{\\alpha} \\cdot \\Delta t"}),Object(r.jsxs)(g,{children:["o\xf9 ",Object(r.jsx)(_.InlineMath,{children:"\\Delta t"})," est le temps qui s'est \xe9coul\xe9 entre la derni\xe8re mesure et la mesure actuelle. En C++, \xe7a donnera :"]}),Object(r.jsx)(q,{code:"float newAngleX = angleX + (sensor.getAngleSpeedX() * deltaTime);\nfloat newAngleY = angleY + (sensor.getAngleSpeedY() * deltaTime);",language:"cpp"}),Object(r.jsx)(g,{children:"H\xe9las, ce n'est pas aussi simple :/ On va encore faire face \xe0 une impr\xe9cision... Le gyroscope est tr\xe8s bon pour calculer l'angle form\xe9 \xe0 court terme, mais pas \xe0 long terme. L'angle th\xe9orique va vite diverger de sa vraie valeur."}),Object(r.jsx)(f,{text:"Corrections"}),Object(r.jsx)(g,{children:"Pour corriger son inclinaison th\xe9orique \xe0 long terme, il y a moyen de calculer son angle avec\u2026 l'acc\xe9l\xe9rom\xe8tre !"}),Object(r.jsx)(g,{children:"On n'avait pas dit que l'acc\xe9l\xe9rom\xe8tre permettait de d\xe9terminer son acc\xe9l\xe9ration, et le gyroscope sa vitesse angulaire ?"}),Object(r.jsx)(g,{children:"Oui, \xe7a peut sembler contre-intuitif, mais regardez ! On va sch\xe9matiser notre drone immobile et les donn\xe9es de son acc\xe9l\xe9rom\xe8tre :"}),Object(r.jsx)(x,{height:"220",src:"data:image/png;base64,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"}),Object(r.jsx)(g,{children:"Vous voyez peut-\xeatre o\xf9 je veux en venir. M\xeame si le drone ne bouge pas, la composante d'acc\xe9l\xe9ration en Z prend en compte la gravit\xe9 !"}),Object(r.jsx)(g,{children:"Maintenant, si on repr\xe9sente le drone inclin\xe9 :"}),Object(r.jsx)(x,{height:"250",src:Y}),Object(r.jsx)(g,{children:"La gravit\xe9 s'est r\xe9partie sur deux axes ! On peut donc utiliser ce ph\xe9nom\xe8ne pour conna\xeetre notre inclinaison."}),Object(r.jsx)(g,{children:"On va calculer les angles du drone comme ceci :"}),Object(r.jsx)(_.BlockMath,{children:"\\alpha_{x} = Arctan\\left(\\frac{acc_x}{\\sqrt{acc_x^2+acc_z^2}}\\right)"}),Object(r.jsx)(_.BlockMath,{children:"\\alpha_{y} = Arctan\\left(\\frac{-acc_y}{\\sqrt{acc_y^2+acc_z^2}}\\right)"}),Object(r.jsx)(g,{children:"Maintenant, on peut donc effectuer une correction des valeurs :"}),Object(r.jsx)(q,{code:"float newAngleX = 0.995 * (angleX + (sensor.getAngleSpeedX() * deltaTime)) + (0.005 * sensor.getAngleXFromAccelerometer());\nfloat newAngleY = 0.995 * (angleY + (sensor.getAngleSpeedY() * deltaTime)) + (0.005 * sensor.getAngleYFromAccelerometer());",language:"cpp"}),Object(r.jsx)(g,{children:"Ce qu'on a fait ici, c'est prendre 99,5% de l'angle calcul\xe9 par le gyroscope (pr\xe9cis \xe0 court terme), et le corriger au fur et \xe0 mesure par 0,05% de l'angle d\xe9termin\xe9 gr\xe2ce \xe0 la gravit\xe9 terrestre."}),Object(r.jsx)(f,{text:"Essai avec un Servo"}),Object(r.jsx)(g,{children:"Apr\xe8s avoir affich\xe9 les valeurs de l'acc\xe9l\xe9rom\xe8tre et du gyroscope dans la console pour m'assurer que tout fonctionne, j'ai voulu tester la r\xe9activit\xe9 des capteurs et du programme. Il y avait plusieurs mani\xe8res de tester \xe7a, mais pour s'amuser, j'ai choisi de brancher un servo. C'est un moteur qui tourne de 0 \xe0 180\xb0."}),Object(r.jsx)(g,{children:"J'ai fait en sorte que le moteur d\xe9crive le m\xeame angle que celui de l'axe X du drone."}),Object(r.jsx)(g,{children:"Tout a l'air tr\xe8s r\xe9actif !"}),Object(r.jsx)(f,{text:"Conclusion"}),Object(r.jsx)(g,{children:"A la fin de cet \xe9pisode, on a enfin un capteur qui permet de calculer :"}),Object(r.jsx)(g,{children:Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["Les acc\xe9l\xe9rations"," ",Object(r.jsx)(_.InlineMath,{children:"(acc_x, acc_y, acc_z)"})," gr\xe2ce \xe0 l'acc\xe9l\xe9rom\xe8tre"]}),Object(r.jsxs)("li",{children:["Les vitesses des angles"," ",Object(r.jsx)(_.InlineMath,{children:"(\\dot\\alpha_x, \\dot\\alpha_y, \\dot\\alpha_z)"})," ","gr\xe2ce au gyroscope"]}),Object(r.jsxs)("li",{children:["Les angles"," ",Object(r.jsx)(_.InlineMath,{children:"(\\alpha_x, \\alpha_y, \\alpha_z)"})," ","gr\xe2ce au gyroscope et \xe0 une correction apport\xe9e par l'acc\xe9l\xe9rom\xe8tre"]})]})})]})}}]),n}(s.Component);var ee=function(){return Object(r.jsx)(A.a,{basename:"/",children:Object(r.jsxs)(W.c,{children:[Object(r.jsx)(W.a,{path:"/",component:H,exact:!0}),Object(r.jsx)(W.a,{path:"/articles/create-drone-1",component:E}),Object(r.jsx)(W.a,{path:"/articles/create-drone-2",component:z}),Object(r.jsx)(W.a,{path:"/articles/create-drone-3",component:N}),Object(r.jsx)(W.a,{path:"/articles/create-drone-4",component:$}),Object(r.jsx)(W.a,{path:"/",component:V})]})})},te=function(e){e&&e instanceof Function&&n.e(155).then(n.bind(null,259)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),i(e),c(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(ee,{})}),document.getElementById("root")),te()}},[[73,152,153]]]);
//# sourceMappingURL=main.fe48eb27.chunk.js.map